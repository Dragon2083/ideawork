<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>假日嘉年华宾馆</title>
    <script th:src="@{/jquery/jquery-3.5.1.min.js}" type="text/javascript"></script>
    <link rel="stylesheet" th:href="@{/layui/css/layui.css}" media="all">
    <link th:href="@{/css/bootstrap.css}" rel='stylesheet' type='text/css'/>
    <link th:href="@{/css/style.css}" rel='stylesheet' type='text/css'/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="application/x-javascript"> addEventListener("load", function () {
        setTimeout(hideURLbar, 0);
    }, false);

    function hideURLbar() {
        window.scrollTo(0, 1);
    } </script>
    <link th:href="@{/css/slider.css}" rel="stylesheet" type="text/css" media="all"/>
    <link th:href="@{/css/nav.css}" rel="stylesheet" type="text/css" media="all"/>
    <script th:src="@{/js/jquery.min.js}" type="text/javascript"></script>
    <script th:src="@{/js/modernizr.custom.js}" type="text/javascript"></script>
    <script th:src="@{/js/jquery.openCarousel.js}" type="text/javascript"></script>

    <script>
        $(function () {
            $('#cbp-fwslider').cbpFWSlider();//滑动图片插件

        });
    </script>
    <!---- animated-css ---->
    <link th:href="@{/css/animate.css}" rel="stylesheet" type="text/css" media="all">
    <script th:src="@{/js/wow.min.js}"></script>
    <script>
        new WOW().init();
    </script>

    <!----font-Awesome----->
    <link rel="stylesheet" th:href="@{/css/font-awesome.min.css}">
    <!----font-Awesome----->
</head>
<body>
<!----登录----->
<div id="login"  style="display: none;">
    <form  class="layui-form" style="margin-top: 10%;margin-left: 12%">
        <div class="layui-form-item">
            <label class="layui-form-label">账号</label>
            <div class="layui-input-inline">
                <input type="text" id="account"   required  lay-verify="required" placeholder="请输入账号" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">密码</label>
            <div class="layui-input-inline">
                <input type="password" id="cpsw" required lay-verify="required" placeholder="请输入密码" autocomplete="off" class="layui-input">
            </div>
            <!-- <div class="layui-form-mid layui-word-aux">辅助文字</div>-->
        </div>
    </form>
</div>
<!----注册----->
<div id="register"  style="display: none;">
    <form  class="layui-form" style="margin-top: 10%;margin-left: 25%">
        <div class="layui-form-item">
            <label class="layui-form-label">账号</label>
            <div class="layui-input-inline">
                <input type="text" id="raccount"   required  lay-verify="required" placeholder="请输入账号" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">密码</label>
            <div class="layui-input-inline">
                <input type="text" id="rcpsw" required lay-verify="required" placeholder="请输入密码" autocomplete="off" class="layui-input">
            </div>
            <!-- <div class="layui-form-mid layui-word-aux">辅助文字</div>-->
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">姓名</label>
            <div class="layui-input-inline">
                <input type="text" id="rcname"   required  lay-verify="required" placeholder="请输入姓名" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">性别</label>
            <div class="layui-input-inline" style="width:190px">
                <select id="rgender" lay-filter="required">
                    <option value="男" >男</option>
                    <option value="女">女</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">手机号</label>
            <div class="layui-input-inline">
                <input type="text" id="rphone" required lay-verify="required" placeholder="请输入手机号" autocomplete="off" class="layui-input">
            </div>
            <!-- <div class="layui-form-mid layui-word-aux">辅助文字</div>-->
        </div>
    </form>
</div>
<!-- Header -->
<div class="header_bottom">
    <div class="container">
        <div class="logo">
            <h1><a th:href="@{/}">假日嘉年华宾馆<span>HOTEL</span></a></h1>
        </div>
        <div class="navigation">
            <div>
                <label class="mobile_menu" for="mobile_menu" >
                    <span>菜单</span>
                </label>
                <input id="mobile_menu" type="checkbox">
                <ul class="nav">
                    <li><a th:href="@{/}">主页</a></li>
                    <li><a href="#">预定</a>
                        <ul class="dropdown2">
                            <li><a th:href="@{/room}">预定房间</a></li>
                        </ul>
                    </li>
                    <li><a th:href="@{/about}">关于</a></li>
                    <li th:if="${session.flogin == null}"><a href="javascript:frontlogin();">登录</a>
                        <ul class="dropdown2">
                            <li><a href="javascript:fregister();">注册</a></li>
                        </ul>
                    </li>
                    <li th:if="${session.flogin != null}"><a href="#" th:text="${session.flogin.cname}"></a>
                        <div style="display: none">
                            <p th:text="${session.flogin.cid}" id="editcid"></p>
                            <p th:text="${session.flogin.account}" id="editaccount"></p>
                            <p th:text="${session.flogin.cpsw}" id="editcpsw"></p>
                            <p th:text="${session.flogin.cname}" id="editcname"></p>
                            <p th:text="${session.flogin.gender}" id="editgender"></p>
                            <p th:text="${session.flogin.cphone}" id="editcphone"></p>
                        </div>
                        <ul class="dropdown2">
                            <li><a th:href="@{/information}">基本资料</a></li>
                            <li><a th:href="@{/record}">预定记录</a></li>
                            <li><a th:href="@{/logout}">退出登录</a></li>
                        </ul>
                    </li>
                    <div class="clearfix"></div>
                </ul>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>

</div>
<div id="cbp-fwslider" class="cbp-fwslider wow fadeInLeft" data-wow-delay="0.4s">
    <div class="slider-line"></div>
    <ul>
        <li><a href="#"><img th:src="@{/images/2.jpg}" class="img-responsive" alt="img01"/></a></li>
        <li><a href="#"><img th:src="@{/images/1.jpg}" class="img-responsive" alt="img02"/></a></li>
    </ul>
    <script th:src="@{/js/jquery.cbpFWSlider.min.js}" type="text/javascript"></script>
</div>

<!-- Ends Header -->
<!------------ Start Content ---------------->
<div class="main">
    <div class="container">
        <div class="row grids text-center">
            <div class="col-md-4">
                <div class="view view-tenth">
                        <div class="inner_content clearfix">
                            <div class="product_image">
                                <img th:src="@{/images/pic1.jpg}" class="img-responsive" alt=""/>
                                <div class="mask">
                                    <h2>单人间</h2>
                                    <h3>A wonderful serenity has taken possession of my entire soul</h3>
                                    <div class="info"><i class="fa fa-search-plus"></i></div>
                                </div>
                            </div>
                        </div>
                </div>
                <div class="product_container wow bounceIn" data-wow-delay="0.4s">
                    <h3><a href="#">单人间</a></h3>
                    <div class="underheader-line"></div>
                    <ul class="person">
                        <h4>最大入住人数:1</h4>
                        <li><i class="fa fa-male"> </i></li>
                    </ul>
                </div>
            </div>
            <div class="col-md-4">
                <div class="view view-tenth">
                        <div class="inner_content clearfix">
                            <div class="product_image">
                                <img th:src="@{/images/pic3.jpg}" class="img-responsive" alt=""/>
                                <div class="mask">
                                    <h2>双人间</h2>
                                    <h3>A wonderful serenity has taken possession of my entire soul</h3>
                                    <div class="info"><i class="fa fa-search-plus"></i></div>
                                </div>
                            </div>
                        </div>
                </div>
                <div class="product_container wow bounceIn" data-wow-delay="0.4s">
                    <h3><a href="#">双人间</a></h3>
                    <div class="underheader-line"></div>
                    <ul class="person">
                        <h4>最大入住人数:2</h4>
                        <li><i class="fa fa-male"> </i></li>
                        <li><i class="fa fa-male"> </i></li>
                    </ul>
                </div>
            </div>
            <div class="col-md-4">
                <div class="view view-tenth">
                        <div class="inner_content clearfix">
                            <div class="product_image">
                                <img th:src="@{/images/pic2.jpg}" class="img-responsive" alt=""/>
                                <div class="mask">
                                    <h2>特大床房间</h2>
                                    <h3>A wonderful serenity has taken possession of my entire soul</h3>
                                    <div class="info"><i class="fa fa-search-plus"></i></div>
                                </div>
                            </div>
                        </div>
                </div>
                <div class="product_container wow bounceIn" data-wow-delay="0.4s">
                    <h3><a href="#">特大床房间</a></h3>
                    <div class="underheader-line"></div>
                    <ul class="person">
                        <h4>最大入住人数:3</h4>
                        <li><i class="fa fa-male"> </i></li>
                        <li><i class="fa fa-male"> </i></li>
                        <li><i class="fa fa-male"> </i></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="reservation wow fadeInLeft" data-wow-delay="0.4s" id="work">
        <div class="container">
            <div class="row">
                <div class="col-md-9">
                    <div id="main-reservation-text"><h3>您可以拨打宾馆预约电话：<span th:text="${phone}"></span>&nbsp;&nbsp;或者在线预约</h3>
                    </div>
                </div>
                <div class="col-md-3">
                    <a th:href="@{/room}" title="Online Reservation" class="btn btn-primary btn-normal btn-inline "
                       target="_self">在线预约</a>
                </div>
            </div>
        </div>
    </div>
    <div class="content-bottom wow fadeInLeft" data-wow-delay="0.4s" id="work">
        <div class="container">
            <div class="row">
                <div class="col-md-4 middle_right">
                    <h3>Info</h3>
                    <ul id="general-info">
                        <li><i class="fa fa-clock-o"> </i>Check-in: 14:00; Check-out: 12:00</li>
                        <li><i class="fa fa-globe"> </i>房间内有免费WiFi</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="company_logos wow bounceIn" data-wow-delay="0.4s">
        <h3>Our Gallery</h3>
        <div class="ocarousel_slider">
            <div class="ocarousel example_photos" data-ocarousel-perscroll="3">
                <div class="ocarousel_window">
                    <a href="#" title="Hp"> <img th:src="@{/images/g1.jpg}" class="img-responsive" alt=""/></a>
                    <a href="#" title="Bosch"><img th:src="@{/images/g2.jpg}" class="img-responsive" alt=""/></a>
                    <a href="#" title="El pso"><img th:src="@{/images/g3.jpg}" class="img-responsive" alt=""/></a>
                    <a href="#" title="Print X Press"><img th:src="@{/images/g4.jpg}" class="img-responsive"
                                                           alt=""/></a>
                    <a href="#" title="Arcelo mittal"><img th:src="@{/images/g5.jpg}" class="img-responsive"
                                                           alt=""/></a>
                    <a href="#" title="Goldware IT Services"><img th:src="@{/images/g6.jpg}" class="img-responsive"
                                                                  alt=""/></a>
                    <a href="#" title="Lucent Technologies"><img th:src="@{/images/g7.jpg}" class="img-responsive"
                                                                 alt=""/></a>
                    <a href="#" title="ge"><img th:src="@{/images/g8.jpg}" class="img-responsive" alt=""/></a>
                </div>
                <span>
                    <a href="#" data-ocarousel-link="left" class="prev"><i class="fa fa-angle-left"></i> </a>
                    <a href="#" data-ocarousel-link="right" class="next"> <i class="fa fa-angle-right"></i></a>
                </span>
            </div>
        </div>
    </div>
</div>
<div class="footer">
    <div class="container">
        <div class="footer_top">
            <div class="row">
                <div class="clearfix"></div>
            </div>
        </div>
        <div class="footer_bottom">
            <div class="copy_right" onclick="window.location='/back/blogin'">
                <p>@2020 Hotel Admin</p>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>
<script th:src="@{/layui/layui.js}" type="text/javascript"></script>
<script>
    layui.use(['layer','form'], function(){
        var layer = layui.layer;
        var form = layui.form;
        frontlogin =  function() {
            layer.open({
                type: 1,
                title:"登录",
                scrollbar: false,
                resize:false,
                skin: 'layui-layer-rim', //加上边框
                area: ['420px', '280px'], //宽高
                content: $("#login")
                , btn: ['登录', '取消']
                ,yes: function(index, layero){
                    var account = $('#account').val();
                    var cpsw = $('#cpsw').val();
                    var data ="account="+account+"&cpsw="+cpsw;
                    $.ajax({
                        url: "/login",
                        data: data,
                        type: 'post',
                        dataType: 'json',
                        success: function (res) {//请求成功，回调函数，data.
                            if (res["flag"]) {
                                layer.msg("登录成功", {iocn: 1});
                                parent.location.reload()
                            } else {
                                layer.msg("登录失败", {icon: 5});
                            }
                        },
                    });
                }
            });
        }

        fregister = function () {
            layer.open({
                type:1,
                title: "注册",
                scrollbar: false,
                resize:false,
                skin: 'layui-layer-rim', //加上边框
                area: ['600px', '550px'], //宽高
                content: $("#register")
                , btn: ['注册', '取消']
                ,yes:function (index,layero) {
                    var raccount = $('#raccount').val();
                    var rcpsw = $('#rcpsw').val();
                    var rcname = $('#rcname').val();
                    var rgender = $('#rgender').val();
                    var rcphone = $('#rphone').val();
                    var myDate = new Date();
                    var registerdate = myDate.toLocaleDateString().split('/').join('-'); //修改格式
                    console.log(registerdate);
                    var data = "account="+raccount+"&cpsw="+rcpsw+"&cname="+rcname+"&gender="+rgender+"&registerdate="+registerdate+"&cphone="+rcphone;
                    $.ajax({
                        url: "/register",
                        data: data,
                        type: 'post',
                        dataType: 'json',
                        success:function (res) {
                            if (res["flag"]) {
                                layer.msg("注册成功", {iocn: 1});
                                parent.location.reload()
                            } else {
                                layer.msg("注册失败", {icon: 5});
                            }
                        }
                    });
                }
            });
        }
        var cid = $('#editcid').text();
        var account = $('#editaccount').text();
        var cpsw = $('#editcpsw').text();
        var cname = $('#editcname').text();
        var gender = $('#editgender').text();
        var cphone = $('#editcphone').text();

        layui.sessionData('customer',{
            key:'customerdata',value:[
                {account:account},
                {cpsw:cpsw},
                {cname:cname},
                {gender:gender},
                {cphone:cphone},
                {cid:cid}
            ]
        });

    });
</script>
</body>
</html>


<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <title>layuiAdmin 控制台主页一</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <script th:src="@{/jquery/jquery-3.5.1.min.js}" type="text/javascript"></script>
  <link rel="stylesheet"  th:href="@{/layui/css/layui.css}" media="all">
  <script th:src="@{/js/echarts.min.js}"></script>
  <script th:src="@{/layui/layui.js}" charset="utf-8"></script>
  <link rel="stylesheet" th:href="@{/layuiadmin/layui/css/layui.css}" media="all">
  <link rel="stylesheet" th:href="@{/layuiadmin/style/admin.css}" media="all">
</head>
<body>
  
  <div class="layui-fluid">
    <div class="layui-row layui-col-space15">
      <div class="layui-col-md8">
        <div class="layui-row layui-col-space15">
          <div class="layui-col-md6">
            <div class="layui-card">
              <div class="layui-card-header">快捷方式</div>
              <div class="layui-card-body">
                
                <div class="layui-carousel layadmin-carousel layadmin-shortcut">
                  <div carousel-item>
                    <ul class="layui-row layui-col-space10">
                      <li class="layui-col-xs3">
                        <a th:lay-href="@{/back/user/list}">
                          <i class="layui-icon layui-icon-user"></i>
                          <cite>用户</cite>
                        </a>
                      </li>
                      <li class="layui-col-xs3">
                        <a th:lay-href="@{/back/room}">
                          <i class="layui-icon layui-icon-console"></i>
                          <cite>房间</cite>
                        </a>
                      </li>
                      <li class="layui-col-xs3">
                        <a th:lay-href="@{/pieroom}">
                          <i class="layui-icon layui-icon-chart"></i>
                          <cite>数据统计</cite>
                        </a>
                      </li>
                      <li class="layui-col-xs3">
                        <a th:lay-href="@{/back/record}">
                          <i class="layui-icon layui-icon-find-fill"></i>
                          <cite>房间记录</cite>
                        </a>
                      </li>
                      <li class="layui-col-xs3">
                        <a th:lay-href="@{/back/customer}">
                          <i class="layui-icon layui-icon-survey"></i>
                          <cite>顾客信息</cite>
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="layui-col-md6">
            <div class="layui-card">
              <div class="layui-card-header">房间情况</div>
              <div class="layui-card-body">

                <div class="layui-carousel layadmin-carousel layadmin-backlog">
                  <div carousel-item>
                    <ul class="layui-row layui-col-space10">
                      <li class="layui-col-xs6">
                        <a href="javascript:;" onclick="layer.tips('不跳转', this, {tips: 3});" class="layadmin-backlog-body">
                          <h3>可用房间</h3>
                          <p><cite th:text="${session.useable}" ></cite></p>
                        </a>
                      </li>
                      <li class="layui-col-xs6">
                        <a href="javascript:;" onclick="layer.tips('不跳转', this, {tips: 3});" class="layadmin-backlog-body">
                          <h3>待清洁房间</h3>
                          <p><cite th:text="${session.clean}"></cite></p>
                        </a>
                      </li>
                      <li class="layui-col-xs6">
                        <a href="javascript:;" onclick="layer.tips('不跳转', this, {tips: 3});" class="layadmin-backlog-body">
                          <h3>待维修房间</h3>
                          <p><cite th:text="${session.maintain}"></cite></p>
                        </a>
                      </li>
                      <li class="layui-col-xs6">
                        <a href="javascript:;" onclick="layer.tips('不跳转', this, {tips: 3});" class="layadmin-backlog-body">
                          <h3>停用房间</h3>
                          <p><cite th:text="${session.unable}"></cite></p>
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="layui-col-md12">
            <div class="layui-card">
              <div class="layui-tab layui-tab-brief layadmin-latestData">
                <ul class="layui-tab-title">
                  <li class="layui-this">今日入住</li>
                  <li>今日热帖</li>
                </ul>
                <div class="layui-tab-content">
                  <div class="layui-tab-item layui-show">
                    <table id="record" name="recordlist"></table>
                  </div>
                  <div class="layui-tab-item">
                    <table id="demo" name="roomlist"></table>
                  </div>
                </div>
              </div>
            </div>
            <div class="layui-card">
              <div class="layui-card-header">数据概览</div>
              <div class="layui-card-body">
                <div class="layui-carousel layadmin-carousel layadmin-dataview" data-anim="fade" lay-filter="LAY-index-dataview">
                   <div carousel-item id="LAY-index-dataview">
                    <div><i class="layui-icon layui-icon-loading1 layadmin-loading"></i></div>
                    <div></div>
                    <div></div>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="layui-col-md4">
        <div class="layui-card">
          <div class="layui-card-header">
            心语
            <i class="layui-icon layui-icon-tips" lay-tips="加油" lay-offset="5"></i>
          </div>
          <div class="layui-card-body layui-text layadmin-text">
              <P>服务从微笑开始，今天你微笑了吗？</P>
          </div>
        </div>
      </div>
      
    </div>
  </div>
  <div id="roomstate"></div>
  <script th:src="@{/layuiadmin/layui/layui.js(t=1)}"></script>
  <script>
  layui.config({
    base: '/layuiadmin/'
  }).extend({
    index: 'lib/index'
  }).use(['index', 'console']);

//layui
  layui.use(['table','layer'], function() {
    var table = layui.table;
    var layer = layui.layer;
    //开房记录
    table.render({
      elem: '#record' //指定原始表格元素选择器（推荐id选择器）
      ,limit:5
      ,url:'/back/recordbydate'
      ,cols: [[
        {field:'id',title:'ID',width:'98'}
        ,{field:'cid',title:'顾客id',width:'100'}
        ,{field:'cname',title:'顾客姓名',width:'100'}
        ,{field:'rnumber',title:'房间号',width:'100'}
        ,{field:'checkindate',title:'入住日期',width:'150',templet : "<div>{{layui.util.toDateString(d.checkindate, 'yyyy-MM-dd')}}</div>"}
        ,{field:'checkoutdate',title:'退房日期',width:'150',templet : "<div>{{layui.util.toDateString(d.checkoutdate, 'yyyy-MM-dd')}}</div>"}
        ,{field:'useable',title:'是否退房',width:'100'
          ,templet:function (d) {
            return  d.useable?"未退":"已退";
          }
        }
      ] ]//设置表头
      //,…… //更多参数参考右侧目录：基本参数选项
    });
    //房间
    table.render({
      elem: '#demo'
      ,limit:5
      ,url:'/back/roombystate'
      ,cols: [[
        {field:'roomid',title:'ID',width:'100'}
        ,{field:'rname',title:'房号',width:'150'}
        ,{field:'rprice',title:'房价',width:'150'}
        ,{field:'rtype',title:'可住几人',width:'150'}
        ,{field:'rstate',title:'房间状态',width:'248'}
      ] ]//设置表头
      //,…… //更多参数参考右侧目录：基本参数选项
    });
  });
  </script>
  <script th:inline="javascript" >
      // 基于准备好的dom，初始化echarts实例
      var chartDom = document.getElementById('roomstate');
      var myChart = echarts.init(chartDom);
      // 指定图表的配置项和数据
      var option = {
          title: {
              text: '房间状态统计饼图',
              //subtext: '',
              left: 'center'
          },
          tooltip: {
              trigger: 'item'
          },
          legend: {
              orient: 'vertical',
              left: 'left',
          },
          series: [
              {
                  type: 'pie',
                  radius: '50%',
                  data: [
                      {value:50, name: '可用'},
                      {value: 20, name: '停用'},
                      {value: 60, name: '待维修'},
                      {value:70, name:"待清洁"}
                  ],
                  emphasis: {
                      itemStyle: {
                          shadowBlur: 10,
                          shadowOffsetX: 0,
                          shadowColor: 'rgba(0, 0, 0, 0.5)'
                      }
                  }
              }
          ]
      };
      // 使用刚指定的配置项和数据显示图表。
      myChart.setOption(option);
  </script>
</body>
</html>

